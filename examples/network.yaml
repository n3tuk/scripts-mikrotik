---
settings:
  ntp_servers:
    - address: 172.16.1.1
      comment: Network NTP Server (router)

ranges:
  internal:
    - 172.16.0.0/16
    - 2a00:8086:8086::/48
  ssh:
    - 46.235.225.59
    - 2a00:1098:82:e8::/64

dns:
  static:
    - name: one.one.one.one
      ttl: 1h
      comment: Cloudflare DNS over HTTPS/TLS
      addresses:
        - address: 1.1.1.1
          type: A
        - address: 1.0.0.1
          type: A
        - address: 2606:4700:4700::1111
          type: AAAA
        - address: 2606:4700:4700::1001
          type: AAAA
    - name: cloudflare-dns.com
      ttl: 5m
      comment: Cloudflare DNS over HTTPS/TLS
      addresses:
        - address: 104.16.248.249
          type: A
        - address: 104.16.249.249
          type: A
        - address: 2606:4700:6810::f8f9
          type: AAAA
        - address: 2606:4700:6810::f9f9
          type: AAAA
    - name: dns64.cloudflare-dns.com
      ttl: 1h
      comment: Cloudflare DNS64 over HTTPS/TLS
      addresses:
        - address: 2606:4700:4700::64
          type: AAAA
        - address: 2606:4700:4700::6400
          type: AAAA

mstp:
  region: core
  revision: 1

vlans:
  - id: 10
    enabled: true
    name: management
    bridge: bri01
    comment: Management Network
    ipv4:
      address: 172.16.0.1/24
      pool: 172.16.0.250-172.16.0.254
      lease: 8h
    ipv6:
      address: 2f00:8086:8086:0::/64
      lease: 8h
    lists:
      - fw-internal-vlan-management

  - id: 99
    name: blocked
    bridge: bri01
    comment: Blocked Network Interfaces

  - id: 20
    name: private
    bridge: bri01
    comment: General Private Network
    ipv4:
      address: 172.16.1.1/24
      pool: 172.16.1.200-172.16.1.250
      lease: 8h
    ipv6:
      address: 2f00:8086:8086:1::/64
      lease: 8h
    lists:
      - fw-internal-vlan-private

  - id: 21
    name: n3tuk-guest
    bridge: bri01
    comment: Private, Limited-Access Network for Guests
    ipv4:
      address: 172.16.2.1/26
      pool: 172.16.2.2-172.16.2.254
      lease: 15m
    ipv6:
      address: 2f00:8086:8086:2::/64
      lease: 15m
    lists:
      - fw-internal-vlan-guest

firewall:
  forwarding:
    ports:
      - comment: Remote Access to Web Server
        protocol: tcp
        port: 8080
        interface: wan01
        # By setting ipv4, a rule will be created in the nat/dstnat chain which
        # re-writes IPv4 destination address of the packet to the above protocol
        # and port from the named interface, and a corresponding rule in the
        # filter/forward chain will automatically allow dstnat'd packets through
        ipv4: 172.27.1.254
        # By setting ipv6, a rule will be created in the filter/forward chain
        # which will allow requests being passed to this address for the above
        # protocol/port to be permitted through from the above interface
        ipv6: 2f00:8086:8086:1:ed62:f58b:125d:3226
      - comment: Remote Access to Web Server
        protocol: tcp
        port: 8443
        interface: wan01
        ipv4: 172.27.1.254
        ipv6: 2f00:8086:8086:1:ed62:f58b:125d:3226

users:
  admin:
    enabled: false
  jonathan:
    group: full
    comment: Jonathan Wright <jon@than.io>
    keys:
      - name: jonathan-laptop
        type: ssh-rsa
        contents: >
          AAAAB3NzaC1yc....==
      - name: jonathan-desktop
        type: ssh-rsa
        contents: >
          AAAAB3NzaC1yc....==
